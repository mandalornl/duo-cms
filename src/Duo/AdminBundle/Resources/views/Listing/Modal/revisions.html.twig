{% spaceless %}
<div id="modal_revisions" data-type="{{ type }}" class="modal revisions fade" tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="modal_revisions_title">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="modal_revisions_title">
					{{- 'duo.admin.modal.revisions.title' | trans -}}
				</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="{{ 'duo.admin.modal.global.close' | trans }}">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="table-responsive">
					<table class="table table-hover table-striped">
						<thead>
							<tr>
								<th>{{ 'duo.admin.modal.revisions.name' | trans }}</th>
								<th>{{ 'duo.admin.modal.revisions.created_at' | trans }}</th>
								<th>{{ 'duo.admin.modal.revisions.created_by' | trans }}</th>
								<th>&nbsp;</th>
							</tr>
						</thead>
						<tbody>
							{% set revisions = revisions | default(get_revertable_revisions(entity)) %}
							{% for revision in revisions %}
								<tr>
									<td>
										<a href="{{ path(routePrefix ~ '_revision_view', { id: revision.id }) }}" title="{{ 'duo.admin.modal.revisions.view' | trans }}" target="_blank">
											{{- revision.name -}}
										</a>
									</td>
									<td>
										{{- revision.createdAt | localizeddate('short', 'short', app.request.locale) -}}
									</td>
									<td>
										{% set user = revision.createdBy %}
										{% if user %}
											{{- user.name -}}
										{% endif %}
									</td>
									<td>
										<a href="{{ path(routePrefix ~ '_revision_view', { id: revision.id }) }}" title="{{ 'duo.admin.modal.revisions.view' | trans }}" target="_blank" class="btn btn-light btn-sm" >
											<i class="icon-eye"></i>
										</a>
										<a href="{{ path(routePrefix ~ '_revision_revert', { id: revision.id }) }}" title="{{ 'duo.admin.modal.revisions.revert' | trans }}" class="btn btn-primary btn-sm" data-modal="confirm" data-title="{{ 'duo.admin.modal.revert.title' | trans }}" data-body="{{ 'duo.admin.modal.revert.body' | trans }}">
											<i class="icon-history"></i>
										</a>
										{% if revision is deletable %}
											<a href="{{ path(routePrefix ~ '_delete', { id: revision.id }) }}" title="{{ 'duo.admin.modal.revisions.delete' | trans }}" class="btn btn-danger btn-sm" data-modal="confirm" data-title="{{ 'duo.admin.modal.delete.title' | trans }}" data-body="{{ 'duo.admin.modal.delete.body' | trans }}">
												<i class="icon-bin"></i>
											</a>
										{% else %}
											<a href="{{ path(routePrefix ~ '_destroy', { id: revision.id }) }}" title="{{ 'duo.admin.modal.revisions.delete' | trans }}" class="btn btn-danger btn-sm" data-modal="confirm" data-title="{{ 'duo.admin.modal.destroy.title' | trans }}" data-body="{{ 'duo.admin.modal.destroy.body' | trans }}">
												<i class="icon-bin"></i>
											</a>
										{% endif %}
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-dismiss="modal">
					{{- 'duo.admin.modal.global.close' | trans -}}
				</button>
			</div>
		</div>
	</div>
</div>
{% endspaceless %}